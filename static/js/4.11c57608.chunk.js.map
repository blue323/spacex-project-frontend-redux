{"version":3,"sources":["components/launches/LaunchItem.js"],"names":["LaunchItem","myUser","state","useLocation","launchIdFromURL","useParams","lid","dispatch","useDispatch","history","useHistory","users","useSelector","authState","auth","useState","show","setShow","add","setAdd","handleAddLaunch","e","preventDefault","url","userId","addLaunchToUser","handleRemoveLaunch","removeLaunchFromUser","useEffect","window","scrollTo","behavior","top","i","length","id","hasLaunch","launches","launchId","links","youtube_id","title","onClose","push","className","name","fDate","success","reddit","campaign","href","launch","target","rel","wikipedia","width","height","src","frameBorder","allow","allowFullScreen","rocket","active","stages","boosters","flickr_images","map","image","alt","indexOf","isLoggedIn","onClick"],"mappings":"gNAqIeA,UA9HI,WACjB,IAwCIC,EAxCIC,EAAUC,cAAVD,MACFE,EAAkBC,cAAYC,IAE9BC,EAAWC,cACXC,EAAUC,cACVC,EAAQC,aAAa,SAAAV,GAAK,OAAIA,EAAMS,KAAK,IACzCE,EAAYD,aAAa,SAAAV,GAAK,OAAIA,EAAMY,IAAI,IAClD,EAAwBC,oBAAS,GAAM,mBAAhCC,EAAI,KAAEC,EAAO,KACpB,EAAsBF,oBAAS,GAAK,mBAA7BG,EAAG,KAAEC,EAAM,KAQZC,EAAe,iDAAG,WAAMC,GAAC,iFAC7BA,EAAEC,iBAEIC,EAAG,+DAA2DnB,EAAe,YAAIS,EAAUW,QAEjGjB,EAASkB,YAAgBF,IACzBJ,GAAO,GACPF,GAAQ,GAAK,2CACd,gBARoB,sCAUfS,EAAkB,iDAAG,WAAML,GAAC,iFAChCA,EAAEC,iBAEIC,EAAG,+DAA2DnB,EAAe,YAAIS,EAAUW,QAEjGjB,EAASoB,YAAqBJ,IAC9BJ,GAAO,GACPF,GAAQ,GAAK,2CACd,gBARuB,sCAUxBW,qBAAU,WACRC,OAAOC,SAAS,CAAEC,SAAU,SAAUC,IAAK,OAC7C,GAAG,IAIH,IAAI,IAAIC,EAAE,EAAGA,EAAEtB,EAAMuB,OAAQD,IACxBtB,EAAMsB,GAAGE,KAAOtB,EAAUW,SACzBvB,EAASU,EAAMsB,IAIrB,IAAIG,GAAY,EAEhB,GAAKnC,EACH,IAAI,IAAIgC,EAAE,EAAGA,EAAEhC,EAAOoC,SAASH,OAAQD,IAClChC,EAAOoC,SAASJ,GAAGK,WAAalC,IACjCgC,GAAY,GAOlB,IAAMb,EAAM,iCAAmCrB,EAAMqC,MAAMC,WAE3D,OACE,qCACA,cAAC,IAAK,CAACC,MAAM,OAAOC,QAtDG,WACvBzB,GAAQ,IACG,IAARC,GAAcC,GAAO,GACxBV,EAAQkC,KAAK,gBAAD,OAAiB9B,EAAUW,QACzC,EAkDiDR,KAAMA,EAAK,UAC7C,IAARE,EACC,+DACA,qEAGN,sBAAK0B,UAAU,aAAY,UACzB,6BAAK1C,EAAM2C,OACV3C,EAAM4C,MACL,8CAAiB5C,EAAM4C,SACvB,KAEF,8CAAkC,IAAlB5C,EAAM6C,QAAmB,OAA0B,IAAlB7C,EAAM6C,QAAoB,KAAO,uBAC7E7C,EAAMqC,MAAMS,OAAOC,SAClB,mBAAGL,UAAU,OAAOM,KAAMhD,EAAMqC,MAAMS,OAAOG,OAAQC,OAAO,SAASC,IAAI,aAAY,+BACrF,KAEDnD,EAAMqC,MAAMS,OAAOG,OAClB,mBAAGP,UAAU,OAAOM,KAAMhD,EAAMqC,MAAMS,OAAOG,OAAQC,OAAO,SAASC,IAAI,aAAY,6BACpF,KAEFnD,EAAMqC,MAAMe,UACX,mBAAGV,UAAU,OAAOM,KAAMhD,EAAMqC,MAAMe,UAAWF,OAAO,SAASC,IAAI,aAAY,uBACjF,KAEF,wBACIE,MAAM,MACNC,OAAO,MACPC,IAAKlC,EACLkB,MAAM,uBACNiB,YAAY,IACZC,MAAM,2FACNC,iBAAe,IAEnB,wCACA,4BAAI1D,EAAM2D,OAAOhB,OACjB,6BAA4B,IAAxB3C,EAAM2D,OAAOC,OAAkB,iBAAmB,oBACtD,yCAAY5D,EAAM2D,OAAOE,UACzB,2CAAc7D,EAAM2D,OAAOG,YAC3B,6BACG9D,EAAM2D,OAAOI,cAAcC,KAAI,SAAAC,GAAK,OACnC,mBACGjB,KAAMiB,EACPf,OAAO,SACPC,IAAI,aAAY,SAElB,qBAEEI,IAAKU,EACLC,IAAI,UAFElE,EAAM2D,OAAOI,cAAcI,QAAQF,KAFpCjE,EAAM2D,OAAOI,cAAcI,QAAQF,GAMtC,OAEQ,IAAd/B,GAAwBvB,EAAUyD,YAAc,wBAAQC,QAASnD,EAAgB,+BACnE,IAAdgB,GAAuBvB,EAAUyD,YAAc,wBAAQC,QAAS7C,EAAmB,qCAhD1DxB,EAAMiC,MAqD3C,C","file":"static/js/4.11c57608.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './LaunchItem.css';\nimport { useLocation, useParams, useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addLaunchToUser, removeLaunchFromUser } from '../../reducers/usersReducer';\nimport Modal from '../../shared/UIElements/Modal';\n\nconst LaunchItem = () => {\n  const { state } = useLocation();\n  const launchIdFromURL = useParams().lid;\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const users = useSelector((state => state.users))\n  const authState = useSelector((state => state.auth))\n  const [show, setShow] = useState(false)\n  const [add, setAdd] = useState(true)\n\n  const handleModalClose = () => {\n    setShow(false)\n    if(add === true) setAdd(false) \n    history.push(`/mywatchlist/${authState.userId}`)\n  }\n\n  const handleAddLaunch = async(e) => {\n    e.preventDefault()\n\n    const url = `https://spacex-project-backend.vercel.app/pastLaunch/${launchIdFromURL}/${authState.userId}`\n\n    dispatch(addLaunchToUser(url))\n    setAdd(true)\n    setShow(true)\n  }\n\n  const handleRemoveLaunch = async(e) => {\n    e.preventDefault()\n\n    const url = `https://spacex-project-backend.vercel.app/pastLaunch/${launchIdFromURL}/${authState.userId}`\n\n    dispatch(removeLaunchFromUser(url))\n    setAdd(false)\n    setShow(true)\n  }\n    \n  useEffect(() => {\n    window.scrollTo({ behavior: 'smooth', top: '0px' });\n  }, []);\n\n  let myUser;\n\n  for(let i=0; i<users.length; i++) {\n    if(users[i].id === authState.userId) {\n        myUser = users[i]\n    }\n  }\n\n  let hasLaunch = false;\n\n  if(!!myUser) {\n    for(let i=0; i<myUser.launches.length; i++) {\n      if(myUser.launches[i].launchId === launchIdFromURL) {\n        hasLaunch = true;\n      }\n    }\n  }\n\n  //console.log(hasLaunch)\n\n  const url = \"https://www.youtube.com/embed/\" + state.links.youtube_id\n\n  return (\n    <>\n    <Modal title=\"Info\" onClose={handleModalClose} show={show}>\n        {add === true ? \n          <p>launch added to your watchlist</p> :\n          <p>launch removed from your watchlist</p>\n        }\n      </Modal>\n    <div className='launchItem' key={state.id}>\n      <h1>{state.name}</h1>\n      {state.fDate ?\n        <p>Launch Date: {state.fDate}</p> :\n        null\n      }\n      <p>Successful: {state.success === true ? 'Yes' : state.success === false ? 'No' : 'Launch is pending'}</p>\n          {state.links.reddit.campaign ?\n            <a className='text' href={state.links.reddit.launch} target='_blank' rel='noreferrer'>Reddit - Campaign</a> :\n            null\n          }\n          {state.links.reddit.launch ?\n            <a className='text' href={state.links.reddit.launch} target='_blank' rel='noreferrer'>Reddit - Launch</a> :\n             null\n          }\n          {state.links.wikipedia ?\n            <a className='text' href={state.links.wikipedia} target='_blank' rel='noreferrer'>Wikipedia</a> :\n            null\n          }\n          <iframe \n              width=\"560\" \n              height=\"315\" \n              src={url}\n              title=\"YouTube video player\" \n              frameBorder=\"0\" \n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \n              allowFullScreen>\n          </iframe>\n          <h2>Rocket</h2>\n          <p>{state.rocket.name}</p>\n          <p>{state.rocket.active === true ? 'Status: Active' : 'Status: Retired'}</p>\n          <p>Stages: {state.rocket.stages}</p>\n          <p>Boosters: {state.rocket.boosters}</p>\n          <ul>\n            {state.rocket.flickr_images.map(image => \n              <a \n                 href={image} \n                target='_blank' \n                rel='noreferrer' \n                key={state.rocket.flickr_images.indexOf(image)} >\n              <img \n                 key={state.rocket.flickr_images.indexOf(image)} \n                src={image}\n                alt='rocket'\n              />\n              </a>)}\n          </ul>\n          {(hasLaunch === false) && authState.isLoggedIn && <button onClick={handleAddLaunch}>Add to watchlist</button>}\n          {(hasLaunch === true) && authState.isLoggedIn && <button onClick={handleRemoveLaunch}>Remove from watchlist</button>}\n        </div>\n    </>\n     \n    )\n}\n\nexport default LaunchItem;"],"sourceRoot":""}